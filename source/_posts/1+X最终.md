---
title: 1+X职业技能等级证书最终版
cover: 'https://wenroumao.oss-cn-beijing.aliyuncs.com/img/DM_20231215150300_001.jpg'
description: 1+X职业技能等级证书专栏
mathjax: true
tags:
  - 1x
  - 1+X
categories:
  - 鞍山职业技术学院
swiper_index: 2
password: xweb
abstract: '有东西被加密了, 请输入密码查看.'
message: '您好, 这里需要密码.'
theme: xray
wrong_pass_message: '抱歉, 这个密码看着不太对, 请再试试.'
wrong_hash_message: '抱歉, 这个文章不能被校验, 不过您还是能看看解密后的内容.'
abbrlink: 36236
date: 2023-12-15 15:45:00
updated: 2023-12-15 15:45:00
sticky:
---
# 1+X职业技能等级证书

## 创建数据库

```
create database 数据库名字;
```

## 创建users表

```
create table users( //users可以根据你想要的进行改变，表名
  id int not null primary key auto_increment comment '编号',
  username varchar(20) not null comment '用户名',
  password varchar(50) not null comment '密码'
  );
```

## 插入一些测试数据

```
insert into users(username,password) values ('张三','123456');
insert into users(username,password) values ('李四','123456');
insert into users(username,password) values ('王五','123456');
insert into users(username,password) values ('赵六','123456');
```

### 总代码

```
# 创建数据库
create database servletdemo;
# 创建users表
create table users(
  id int not null primary key auto_increment comment '编号',
  username varchar(20) not null comment '用户名',
  password varchar(50) not null comment '密码'
);
# 插入一些测试数据
insert into users(username,password) values ('张三','123456');
insert into users(username,password) values ('李四','123456');
insert into users(username,password) values ('王五','123456');
insert into users(username,password) values ('赵六','123456');
```

------

# [安装包链接](https://wenroumao.oss-cn-beijing.aliyuncs.com/software/1%2Bx%E5%B7%A5%E5%85%B7%E5%8C%85.zip)



##### 一、打开eclipse点击 文件——新建——Dynamic Web Project



![1](https://wenroumao.oss-cn-beijing.aliyuncs.com/img/1.png)

![2](https://wenroumao.oss-cn-beijing.aliyuncs.com/img/2.png)

![3](https://wenroumao.oss-cn-beijing.aliyuncs.com/img/3.png)



![4](https://wenroumao.oss-cn-beijing.aliyuncs.com/img/4.png)









##### 二、接下来导包  mysql-connector-java-5.0.8-bin

![导包](https://wenroumao.oss-cn-beijing.aliyuncs.com/img/%E5%AF%BC%E5%8C%85.gif)

![导包](https://wenroumao.oss-cn-beijing.aliyuncs.com/img/%E5%AF%BC%E5%8C%85.png)

![导包1](https://wenroumao.oss-cn-beijing.aliyuncs.com/img/%E5%AF%BC%E5%8C%851.png)

##### 三、在src/main/java中新建 com后面的可以自定义，这里中间的名字就改为neu了

- com.neu.bean
- com.neu.dao
- com.neu.service
- com.neu.servlet
- com.neu.utils

![新建包](https://wenroumao.oss-cn-beijing.aliyuncs.com/img/%E6%96%B0%E5%BB%BA%E5%8C%85.png)

![新建包1](https://wenroumao.oss-cn-beijing.aliyuncs.com/img/%E6%96%B0%E5%BB%BA%E5%8C%851.png)


##### 四、com.neu.bean里面右键新建“类” User.java

![类](https://wenroumao.oss-cn-beijing.aliyuncs.com/img/%E7%B1%BB.png)

```
    private int id;
    private String username;
    private String password;
```

![User](https://wenroumao.oss-cn-beijing.aliyuncs.com/img/User.png)

![User1](https://wenroumao.oss-cn-beijing.aliyuncs.com/img/User1.png)

![User2](https://wenroumao.oss-cn-beijing.aliyuncs.com/img/User2.png)

![User3](https://wenroumao.oss-cn-beijing.aliyuncs.com/img/User3.png)

![User4](https://wenroumao.oss-cn-beijing.aliyuncs.com/img/User4.png)

![User5](https://wenroumao.oss-cn-beijing.aliyuncs.com/img/User5.png)

##### 五、com.neu.dao里面新建类UserDao.java

```
package dao;

import bean.User;
import utils.DBUtils;

import java.io.Serializable;
import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.util.ArrayList;
import java.util.List;

public class UserDao implements Serializable {
    /**
     * 查找数据库中的所有记录
     *
     * @return 返回查询结果集合
     */
    public List<User> selectAll() {
        // 存储查询结果集的集合
        List<User> userList = new ArrayList<>();
        Connection conn = null;
        PreparedStatement ps = null;
        ResultSet rs = null;
        try {
            // 获取数据库连接对象
            conn = DBUtils.getConnection();
            // SQL语句
            String sql = "select * from users";
            // 创建数据库执行对象
            ps = conn.prepareStatement(sql);
            // 获取结果集对象
            rs = ps.executeQuery();
            // 对结果集进行遍历
            while (rs.next()) {
                // 实例化User对象
                User user = new User();
                // 进行赋值
                user.setId(rs.getInt(1));
                user.setUsername(rs.getString(2));
                user.setPassword(rs.getString(3));
                // 将User对象添加到集合中
                userList.add(user);
            }
        } catch (SQLException e) {
            e.printStackTrace();
        } finally {
            DBUtils.release(conn, ps, rs);
        }
        return userList;
    }

    /**
     * 查询用户通过用户id
     *
     * @param id 用户id
     * @return 返回查询用户
     */
    public User selectById(int id) {
        // 定义一个User对象
        User user = null;
        Connection conn = null;
        PreparedStatement ps = null;
        ResultSet rs = null;
        try {
            // 获取数据库连接对象
            conn = DBUtils.getConnection();
            // SQL语句
            String sql = "select id, username, password from users where id=?";
            // 创建数据库执行对象
            ps = conn.prepareStatement(sql);
            // 设置参数
            ps.setInt(1, id);
            // 获取结果集对象
            rs = ps.executeQuery();
            // 对结果集进行遍历
            while (rs.next()) {
                // 实例化User对象
                user=new User();
                // 对User进行赋值
                user.setId(rs.getInt(1));
                user.setUsername(rs.getString(2));
                user.setPassword(rs.getString(3));
            }
        } catch (SQLException e) {
            e.printStackTrace();
        } finally {
            DBUtils.release(conn, ps, rs);
        }
        return user;
    }

    /**
     * 通过id删除记录
     *
     * @param id 用户id
     * @return 返回受影响行数
     */
    public int deleteById(int id) {
        int count = 0;
        Connection conn = null;
        PreparedStatement ps = null;
        try {
            // 获取数据库连接对象
            conn = DBUtils.getConnection();
            // SQL语句
            String sql = "delete from users where id=?";
            // 创建数据库执行对象
            ps = conn.prepareStatement(sql);
            // 对参数进行赋值
            ps.setInt(1, id);
            // 执行删除
            count = ps.executeUpdate();
        } catch (SQLException e) {
            e.printStackTrace();
        } finally {
            DBUtils.release(conn, ps, null);
        }
        return count;
    }

    /**
     * 添加用户
     *
     * @param user 用户对象
     * @return 返回受影响行数
     */
    public int addUser(User user) {
        int count = 0;
        Connection conn = null;
        PreparedStatement ps = null;
        try {
            // 获取数据库连接对象
            conn = DBUtils.getConnection();
            // SQL语句
            String sql = "insert into users(username, password) values (?,?);";
            // 创建数据库执行对象
            ps = conn.prepareStatement(sql);
            // 对参数进行赋值
            ps.setString(1, user.getUsername());
            ps.setString(2, user.getPassword());
            // 执行增加
            count = ps.executeUpdate();
        } catch (SQLException e) {
            e.printStackTrace();
        } finally {
            DBUtils.release(conn, ps, null);
        }
        return count;
    }

    /**
     * 更新用户
     *
     * @param user 用户
     * @return 返回受影响行数
     */
    public int updateUser(User user) {
        // 受影响行数
        int count = 0;
        Connection conn = null;
        PreparedStatement ps = null;
        try {
            // 获取数据库连接对象
            conn = DBUtils.getConnection();
            // SQL语句
            String sql = "update users set username=?,password=? where id=?";
            // 创建数据库执行对象
            ps = conn.prepareStatement(sql);
            // 对参数进行赋值
            ps.setString(1, user.getUsername());
            ps.setString(2, user.getPassword());
            ps.setInt(3, user.getId());
            // 执行更新
            count = ps.executeUpdate();
        } catch (SQLException e) {
            e.printStackTrace();
        } finally {
            DBUtils.release(conn, ps, null);
        }
        return count;
    }
}

```



六、在com.neu.servlet里面新建servlet，并且命名UserServlet

![servlet](https://wenroumao.oss-cn-beijing.aliyuncs.com/img/servlet.png)

![servlet1](https://wenroumao.oss-cn-beijing.aliyuncs.com/img/servlet1.png)

```
package servlet;

import bean.User;
import dao.UserDao;

import javax.servlet.ServletException;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.servlet.http.HttpSession;
import java.io.IOException;
import java.util.List;

public class UserServlet extends HttpServlet {
    private UserDao userDao = new UserDao();

    @Override
    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
        // 设置请求的编码
        request.setCharacterEncoding("UTF-8");
        // 设置响应的编码
        response.setContentType("text/html;charset=UTF-8");
        // 获取action
        String action = request.getParameter("action");
        // 对action进行判断
        if (action.equals("userList")) {// 如果参数是userList则显示所有用户列表
            // 获取用户列表集合
            List<User> userList = userDao.selectAll();
            // 获取请求的session
            HttpSession session = request.getSession();
            // 设置session
            session.setAttribute("userList", userList);
            // 跳转user_list.jsp页面
            request.getRequestDispatcher("user_list.jsp").forward(request, response);
        } else if (action.equals("add")) {// 如果参数是add则是添加用户
            // 获取用户名
            String username = request.getParameter("username");
            // 获取密码
            String password = request.getParameter("password");
            // 添加到数据库
            int i = userDao.addUser(new User(username, password));
            // 对添加结果进行判断
            if (i > 0) {
                response.getWriter().println("<script>alert('添加用户成功！');window.location.href='userServlet?action=userList';</script>");
            } else {
                response.getWriter().println("<script>alert('添加用户失败！');window.location.href='add_user.jsp';</script>");
            }
        } else if (action.equals("del")) {// 如果参数是del则是删除用户
            // 获取要删除的id
            String id = request.getParameter("id");
            // 调用数据库方法进行删除操作
            int i = userDao.deleteById(Integer.parseInt(id));
            // 对删除结果进度判断
            if (i > 0) {
                response.getWriter().println("<script>alert('删除用户成功！');window.location.href='userServlet?action=userList';</script>");
            } else {
                response.getWriter().println("<script>alert('删除用户失败！');window.location.href='userServlet?action=userList';</script>");
            }
        } else if (action.equals("edit")) {// 如果参数是edit则是将要修改的参数保存到session中传输到edit_user.jsp页面进行显示
            // 获取要修改的id
            String id = request.getParameter("id");
            // 通过id查询用户
            User user = userDao.selectById(Integer.parseInt(id));
            // 保存到session中，然后在edit_user.jsp中使用
            request.getSession().setAttribute("user", user);
            // 跳转到edit_user.jsp页面
            request.getRequestDispatcher("edit_user.jsp").forward(request, response);
        } else if (action.equals("update")) {// 如果参数是update则是将修改后的数据保存到数据库中
            // 获取id
            String id = request.getParameter("id");
            // 获取修改后的用户名
            String username = request.getParameter("username");
            // 获取修改后的密码
            String password = request.getParameter("password");
            // 将修改更新到数据库中
            int i = userDao.updateUser(new User(Integer.parseInt(id), username, password));
            // 对更新结果进行判断
            if (i > 0) {// 如果更新成功
                response.getWriter().println("<script>alert('编辑用户成功！');window.location.href='userServlet?action=userList';</script>");
            } else {
                response.getWriter().println("<script>alert('编辑用户失败！');window.location.href='userServlet?action=userList';</script>");
            }
        }
    }

    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        doPost(req, resp);
    }
}

```

七、在com.neu.utils里面新建类，并且命名DBUtils.java

```
package utils;

import java.sql.*;

public class DBUtils {
    /**
     * 获取数据库连接对象
     * @return 返回数据库连接对象
     */
    public static Connection getConnection(){
        Connection connection=null;
        try {
            // 加载数据库驱动
            Class.forName("com.mysql.jdbc.Driver");
            // 获取连接对象
            connection = DriverManager.getConnection("jdbc:mysql://localhost:3306/servletdemo","root","admin");
        } catch (ClassNotFoundException | SQLException e) {
            e.printStackTrace();
        }
        return connection;
    }
-------------------------------------------------------------------------------------
    /**
     * 释放数据库连接资源
     * @param connection 数据库连接对象
     * @param statement 数据库执行对象
     * @param resultSet 数据库结果集对象
     */
    public static void release(Connection connection, Statement statement, ResultSet resultSet){
        // 关闭resultSet
        if(resultSet!=null){
            try {
                resultSet.close();
            } catch (SQLException e) {
                e.printStackTrace();
            }
        }
        // 关闭statement
        if(statement!=null){
            try {
                statement.close();
            } catch (SQLException e) {
                e.printStackTrace();
            }
        }
        // 关闭connection
        if(connection!=null){
            try {
                connection.close();
            } catch (SQLException e) {
                e.printStackTrace();
            }
        }
    }
}

```

再此说明，本教程只教代码以及过程，中间出现错误的话，可以根据老师以及视频教程进行更改，本教程用于1+X的职业技能等级证书的部分过程，完整过程还需听老师讲，以及自己更改，增删改查